<?xml version="1.0" encoding="UTF-8"?>

<?import javafx.scene.control.*?>
<?import javafx.scene.layout.*?>
<?import javafx.geometry.Insets?>
<?import javafx.scene.chart.PieChart?>

<ScrollPane xmlns="http://javafx.com/javafx"
            xmlns:fx="http://javafx.com/fxml"
            fx:controller="com.library.controllers.AdminDashboardController"
            fitToWidth="true"
            fitToHeight="true"
            style="-fx-background-color: #f5f5f5;">

    <VBox spacing="20" style="-fx-padding: 20;">
        <!-- หัวข้อ -->
        <Label text="Dashboard" style="-fx-font-size: 24; -fx-font-weight: bold;"/>

        <!-- การ์ดข้อมูลสรุป -->
        <GridPane hgap="20" vgap="20">
            <columnConstraints>
                <ColumnConstraints percentWidth="50"/>
                <ColumnConstraints percentWidth="50"/>
            </columnConstraints>

            <!-- การ์ดจำนวนหนังสือ -->
            <VBox GridPane.columnIndex="0" GridPane.rowIndex="0"
                  style="-fx-background-color: white; -fx-background-radius: 5; -fx-padding: 15;">
                <HBox spacing="10">
                    <Label fx:id="totalBooksLabel"
                           style="-fx-font-size: 28; -fx-text-fill: #2196F3;"/>
                    <VBox>
                        <Label text="Book" style="-fx-font-weight: bold;"/>
                        <Label fx:id="availableBooksLabel" style="-fx-text-fill: #757575;"/>
                    </VBox>
                </HBox>
            </VBox>

            <!-- การ์ดจำนวนสมาชิก -->
            <VBox GridPane.columnIndex="1" GridPane.rowIndex="0"
                  style="-fx-background-color: white; -fx-background-radius: 5; -fx-padding: 15;">
                <HBox spacing="10">
                    <Label fx:id="totalMembersLabel"
                           style="-fx-font-size: 28; -fx-text-fill: #4CAF50;"/>
                    <VBox>
                        <Label text="Member" style="-fx-font-weight: bold;"/>
                        <Label text="สมาชิกใหม่ 0 คนในเดือนนี้" style="-fx-text-fill: #757575;"/>
                    </VBox>
                </HBox>
            </VBox>

            <!-- การ์ดการยืมปัจจุบัน -->
            <VBox GridPane.columnIndex="0" GridPane.rowIndex="1"
                  style="-fx-background-color: white; -fx-background-radius: 5; -fx-padding: 15;">
                <HBox spacing="10">
                    <Label fx:id="currentBorrowsLabel"
                           style="-fx-font-size: 28; -fx-text-fill: #FF9800;"/>
                    <VBox>
                        <Label text="overdueBorrows" style="-fx-font-weight: bold;"/>
                        <Label fx:id="overdueBorrowsLabel" style="-fx-text-fill: #757575;"/>
                    </VBox>
                </HBox>
            </VBox>

            <!-- การ์ดการยืมทั้งหมด -->
            <VBox GridPane.columnIndex="1" GridPane.rowIndex="1"
                  style="-fx-background-color: white; -fx-background-radius: 5; -fx-padding: 15;">
                <HBox spacing="10">
                    <Label fx:id="totalBorrowsLabel"
                           style="-fx-font-size: 28; -fx-text-fill: #F44336;"/>
                    <VBox>
                        <Label text="Borrows" style="-fx-font-weight: bold;"/>
                        <Label text="เดือนนี้ 0 รายการ" style="-fx-text-fill: #757575;"/>
                    </VBox>
                </HBox>
            </VBox>
        </GridPane>

        <!-- สถิติและกราฟ -->
        <HBox spacing="20">
            <!-- กราฟวงกลมหมวดหมู่หนังสือ -->
            <VBox style="-fx-background-color: white; -fx-background-radius: 5; -fx-padding: 15;"
                  HBox.hgrow="ALWAYS" prefWidth="400">
                <Label text="Books by category
่" style="-fx-font-weight: bold; -fx-padding: 0 0 10 0;"/>
                <PieChart fx:id="bookCategoryChart" legendVisible="true"/>
            </VBox>

            <!-- หนังสือยอดนิยม -->
            <VBox style="-fx-background-color: white; -fx-background-radius: 5; -fx-padding: 15;"
                  HBox.hgrow="ALWAYS" prefWidth="300">
                <Label text="PopularBooks" style="-fx-font-weight: bold; -fx-padding: 0 0 10 0;"/>
                <ListView fx:id="popularBooksListView" VBox.vgrow="ALWAYS"/>
            </VBox>
        </HBox>
    </VBox>
</ScrollPane>